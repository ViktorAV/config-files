# Глава 11. Макросы.
Редактор Vim поддерживает более одного способа повторения операций. Команда точка и макрос.
Макрос будет полезен когда необходимо организовать повторение чего-то более существенного.
Макросы записывают последовательность нажатий на клавиши любой длины, и затем воспроизводят их.
При допущении ошибки, не нужно перезаписывать макрос, его можно изменить или добавить в конец.

__Важно__
- Макросы записываются в регистры.
- При записи макроса используйте только повторяемые команды. (без `h`, `l` перемещений и тд)
- При записи макроса нельзя пользоваться мышью.
- Если команда перемещения в ходе выполнения макроса потерпит неудачу, Vim остановит макрос.
- Макросы могут записывать команду точки.
- Макросы могут выполняться на выделенных блоках.

__Рекомендации__
- Если команда перемещения терпит неудачу, Vim издает звуковой сигнал, который можно запретить
  `set visualbell=False`.

## Команды.
- `q` Останавливает запись макроса.
- `qa` Начинает запись макроса в регистр `a`. 
- `qA` Начинает запись в конец макроса в регистр `a`. (изменяет)
- `:reg a` Показывает регистр `a`.
- `@a` Выполняет регистр(макрос) `a`.
- `:normal @a` Выполняет регистр `a` на строке.
- `@@` Повторяет последний макрос.
- `:argdo normal @` Выполняет макрос для всех буферов в списке аргументов.
- `:edit!` Переоткроет файл. (откат не сохраненных изменений)
- `:let i=0` Создает переменную `i` со значением `0`.
- `:let i += 1` Увеличивает значение переменной `i` на `1`.
- `:echo i` Показывает значение переменной `i`.
- `<C-r>=i` Вставляет значение переменной `i` под курсором в режиме вставки.
- `:put a` Вставляет содержимое регистра `a` под курсором.
- `"add` Вырезает строку и добавляет ее в регистр `a`.
- `:d a` Делает тоже что и `"add`.
- `:let @a=substitute(@a, 'dd', 'j')` Записывает макрос из командной строки.
