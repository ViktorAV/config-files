# Глава 13. Поиск.
Редактор Vim может подсвечивать совпадения поиска, но эта особенность отключена по умолчанию.

__Важно__
- Редактор Vim сохраняет историю шаблонов поиска.
  В строке ввода (`/`), так же как и введенные команды (`:`). `<C-n>` вперед, `<C-p>` назад.

__Параметры__
- `wrapscan` Если выключен, поиск будет работать от текущей позиции курсора до конца файла.
- `hlsearch` Если включен, подсвечивает совпадения поиска. `nohlsearch` выключить.
- `incsearch` Если включен, выполняет поиск по мере ввода символов.

__Рекомендации__
- Добавление клавиши поиска выделенного текста.
  `:vmap X y/<C-R>"<C-R>`
  Сценарий:
  ```vim
  xnoremap * :<C-u>call <SID>VSetSearch()<CR>/<C-R>=@/<CR><CR>
  xnoremap # :<C-u>call <SID>VSetSearch()<CR>?<C-R>=@/<CR><CR>
  
  function! s:VSetSearch()
    let temp = @s
    norm! gv"sy
    let @/ = '\V' . substitute(escape(@s, a:cmdtype. '|'), '\n', '\\n', '\g')
    let @s = temp
  endfunction
  ```

## Команды.
- `/` Вызывает строку ввода шаблона поиска. 
- `?` Вызывает строку поиска в обратном направлении.
  `n` Поиск вперед. `N` Поиск назад. (Воспроизводится циклично)
  Если использовать `/<Enter>` то будет использован последний шаблон поиска.
- `:%s/target/text/g` Заменяет во всем файле(`%`) `target` на `text`.
- `/e` Переместит курсор в конец найденого совпадения. (использовать в шаблоне поиска)
- `q/` Показывает историю поиска в отдельном буфере.
- `:%s///gn` Показывает количество совпадений из предыдущего шаблона поиска.
- `:vimgrep //g %` Тоже что и `:%s///gn`. `:cnext`, `:cprev` перемещения.
- `*` Поиск слова под курсором или выделенный текст.
