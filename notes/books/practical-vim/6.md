# Глава 6. Управление несколькими файлами.
Редактор Vim позволяет управлять сразу несколькими файлами в рамках одного сеанса.
Их можно просматривать по одному, либо разбивать на окна и вкладки.
Список буферов позволяет увидеть список открытых файлов.
Список аргументов - это дополнение к списку буферов.
Когда мы редактируем файл, в действительности мы редактируем представление файла в памяти,
которое в терминологии Vim называется буфером.
Окно это ограниченная область рабочего пространства, которая отображает содержимое буфера.
Вкладка это контейнер позволяющий хранить окна.

__Важно__
- Клавиши `[` и `]` используются для целой группы перемещений по блокам.

__Примеры__
- `vim *.txt` Открыть в Vim все файлы в текущей папке с раширением `.txt`

__Рекомендации__
- Клавиши для перехода по буферам `[b, ]b, [B, ]B`
- По умолчанию Vim не позволяет покидать измененные и не сохраненные файлы, чтобы это обойти
  нужно включить параметр `hidden` в `vimrc`.

## Команды
- `:w :write` Записать изменения в файл.
- `wall` Записать изменения на всех файлах.
- `:update` Обновить содержимое файла.
- `:saveas` Записать изменения в новый файл.
- `:ls` Отобразить список активных буферов. (символ `%` отображает активный буфер, `#` альтерн.)
- `:bn :bnext :bp :bprev` Переключиться на следующий / предыдущий буфер.
- `:bfirst :blast` Перейти к первому / последнему буферу.
- `<C-^>` Переключить активный буфер на альтернативный.
- `:buffer N` Перейти к буферу по индексу или имени (достаточно указать первые символы).
- `:bufdo` Применяет команду Ex ко всем активным буферам.
- `:bdelete` Удаляет буфер по индексу или имени.
- `:argdo` Применяет команду Ex ко всем элементам списка аргументов.
- `:args` Отобразить список аргументов.
- `:sp :split :vsp :vsplit {filename}` Разделит окно вертикально или горизонтально
  и откроет в нём новый файл.
- `:close` Закрыть окно.
- `:only` Закрыть все окна кроме активного.
- `:lcd путь` Установит новый рабочий каталог для текущего окна.
- `:windo lcd путь` Установит новый рабочий каталог для всех окон.
- `:tabedit путь` Откроет новую вкладку с файлом.
- `:tabclose` Закрыть текущую вкладку.
- `:tabonly` Закрыть все вкладки кроме текущей.
- `<gt> <gT>` Переходит к следующей / предыдущей вкладке, можно передать индекс.
- `:tabn :tabp` Делает тоже что и `gt gT`.
- `:tabmove` Перемещает вкладку по индексу от 0.

## Окна Vim
В момент запуска, Vim открывает единственное окно.
Мы можем разделить это окно по горизонтали `<C-w>s`, по вертикали `<C-w>v`.
Эти команды можно повторять сколько угодно.
Может быть полезно открыть 1 буфер в 2 окнах, если нужно чтобы часть файла была видна всегда.
__Переключение фокуса между окнами__
| Команда        | Действие                                |
|----------------|-----------------------------------------|
| `<C-w>w`       | Передает фокус между окнами в цикле     |
| `<C-w>hjkl`    | Перемещение фокуса лево,верх,право,низ  |
| `<C-w>c`       | Закрыть окно                            |
| `<C-w>o`       | Закрыть все окна кроме активного        |
| `<C-w>=`       | Выровнять ширину и высоту всех окон     |
| `<C-w>_`       | Увеличить высоту активного окна         |
| `<C-w>палочка` | Увеличить ширину активного окна         |
| `<C-w>T`       | Переместит текущее окно в новую вкладку |
